(()=>{var e={};e.id=683,e.ids=[683],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6282:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(60687);let a=()=>(0,r.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsx)("div",{className:"w-11 h-11 rounded-full border-3 border-gray-300 border-t-green-500 animate-spin"})})},6810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\RextonItsiah\\\\Documents\\\\GitHub\\\\qwesi-home\\\\app\\\\dashboard\\\\subscription\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\RextonItsiah\\Documents\\GitHub\\qwesi-home\\app\\dashboard\\subscription\\page.jsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13036:(e,t,s)=>{Promise.resolve().then(s.bind(s,13928))},13129:(e,t,s)=>{Promise.resolve().then(s.bind(s,65136))},13928:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(60687),a=s(43210),i=s(26787);let n=e=>t=>{try{let s=e(t);if(s instanceof Promise)return s;return{then:e=>n(e)(s),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}};s(57670);var l=s(72384);let o=(0,i.v)(((e,t)=>(s,r,a)=>{let i,l={storage:function(e,t){let s;try{s=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=s.getItem(e))?t:null;return a instanceof Promise?a.then(r):r(a)},setItem:(e,t)=>s.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>s.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=new Set,d=new Set,u=l.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),s(...e)},r,a);let m=()=>{let e=l.partialize({...r()});return u.setItem(l.name,{state:e,version:l.version})},h=a.setState;a.setState=(e,t)=>(h(e,t),m());let p=e((...e)=>(s(...e),m()),r,a);a.getInitialState=()=>p;let x=()=>{var e,t;if(!u)return;o=!1,c.forEach(e=>{var t;return e(null!=(t=r())?t:p)});let a=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=r())?e:p))||void 0;return n(u.getItem.bind(u))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,n]=e;if(s(i=l.merge(n,null!=(t=r())?t:p),!0),a)return m()}).then(()=>{null==a||a(i,void 0),i=r(),o=!0,d.forEach(e=>e(i))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{l={...l,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},l.skipHydration||x(),i||p})((e,t)=>({currentSubscription:null,availablePlans:[],loading:!1,error:null,getCurrentSubscription:()=>t().currentSubscription,getAvailablePlans:()=>t().availablePlans,isLoading:()=>t().loading,getError:()=>t().error,isSubscribed:()=>t().currentSubscription?.status==="active",isPro:()=>t().currentSubscription?.status==="active",fetchSubscription:async()=>{e({loading:!0,error:null});try{let t=JSON.parse(localStorage.getItem("auth-store")||"{}"),s=t.state?.token||"",r=await fetch(l.Q.USER_DETAILS,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}}),a=await r.json();if(r.ok&&a.success){let t=a.user?.subscription||null;return e({currentSubscription:t}),{success:!0,subscription:t}}{let t=a.message||"Failed to fetch subscription";return e({error:t}),{success:!1,error:t}}}catch(s){console.error("Fetch subscription error:",s);let t="Failed to fetch subscription data";return e({error:t}),{success:!1,error:t}}finally{e({loading:!1})}},fetchPlans:async()=>{e({loading:!0,error:null});try{let t=JSON.parse(localStorage.getItem("auth-store")||"{}"),s=t.state?.token||"",r=await fetch(`${l.Q.BASE_URL}api/subscription/plans`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}}),a=await r.json();if(r.ok&&a.success&&a.plans)return e({availablePlans:a.plans}),{success:!0,plans:a.plans};{let t=a.message||"Failed to fetch plans";return e({error:t}),{success:!1,error:t}}}catch(s){console.error("Fetch plans error:",s);let t="Failed to fetch subscription plans";return e({error:t}),{success:!1,error:t}}finally{e({loading:!1})}},createCheckoutSession:async t=>{e({loading:!0,error:null});try{let s=JSON.parse(localStorage.getItem("auth-store")||"{}"),r=s.state?.token||"";console.log("Making API call to:",l.Q.CREATE_CHECKOUT_SESSION),console.log("With data:",t),console.log("With token:",r?"Present":"Missing");let a=await fetch(l.Q.CREATE_CHECKOUT_SESSION,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)});console.log("Response status:",a.status),console.log("Response ok:",a.ok);let i=await a.json();if(console.log("API Response:",i),a.ok){if(i.success&&i.checkoutUrl)return console.log("Success case 1: success + checkoutUrl"),{success:!0,checkoutUrl:i.checkoutUrl};else if(i.checkoutUrl)return console.log("Success case 2: checkoutUrl only"),{success:!0,checkoutUrl:i.checkoutUrl};else if(i.url)return console.log("Success case 3: url property"),{success:!0,checkoutUrl:i.url};else if(!1===i.success){console.log("API returned success: false");let t=i.error||i.message||"Failed to create checkout session";return e({error:t}),{success:!1,error:t}}}console.log("No valid checkout URL found in response");let n=i.error||i.message||`HTTP ${a.status}: Failed to create checkout session`;return e({error:n}),{success:!1,error:n}}catch(s){console.error("Create checkout session error:",s);let t="Network error: Failed to create checkout session";return e({error:t}),{success:!1,error:t}}finally{e({loading:!1})}},createSubscription:async t=>{e({loading:!0,error:null});try{let s=JSON.parse(localStorage.getItem("auth-store")||"{}"),r=s.state?.token||"",a=await fetch(`${l.Q.BASE_URL}api/subscription`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),i=await a.json();if(a.ok&&i.success&&i.subscription)return e({currentSubscription:i.subscription}),{success:!0,subscription:i.subscription};{let t=i.message||"Failed to create subscription";return e({error:t}),{success:!1,error:t}}}catch(s){console.error("Create subscription error:",s);let t="Failed to create subscription";return e({error:t}),{success:!1,error:t}}finally{e({loading:!1})}},cancelSubscription:async s=>{e({loading:!0,error:null});try{let r=JSON.parse(localStorage.getItem("auth-store")||"{}"),a=r.state?.token||"",i=await fetch(l.Q.CANCEL_SUBSCRIPTION,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(s)}),n=await i.json();if(i.ok&&n.success){let s=t().currentSubscription;return s&&e({currentSubscription:{...s,status:"canceled",cancelAtPeriodEnd:!0}}),{success:!0,message:n.message}}{let t=n.message||"Failed to cancel subscription";return e({error:t}),{success:!1,error:t}}}catch(s){console.error("Cancel subscription error:",s);let t="Failed to cancel subscription";return e({error:t}),{success:!1,error:t}}finally{e({loading:!1})}},updatePaymentMethod:async t=>{e({loading:!0,error:null});try{let s=JSON.parse(localStorage.getItem("auth-store")||"{}"),r=s.state?.token||"",a=await fetch(l.Q.UPDATE_PAYMENT_METHOD,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),i=await a.json();if(a.ok&&i.success)return{success:!0,message:i.message};{let t=i.message||"Failed to update payment method";return e({error:t}),{success:!1,error:t}}}catch(s){console.error("Update payment method error:",s);let t="Failed to update payment method";return e({error:t}),{success:!1,error:t}}finally{e({loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{e({currentSubscription:null,availablePlans:[],loading:!1,error:null})}}),{name:"subscription-store"}));var c=s(64398),d=s(13964),u=s(11860),m=s(37590);let h=e=>{if(!e)return"No date specified";let t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};function p(){let[e,t]=(0,a.useState)({email:"",subscription:{currentPeriodEnd:new Date(Date.now()+2592e6).toISOString()},paymentMethod:{last4:"4242"}}),{currentSubscription:s,loading:i,error:n,isPro:l,fetchSubscription:p,createCheckoutSession:b,cancelSubscription:g,updatePaymentMethod:f,clearError:y}=o(),v="function"==typeof l&&l(),[j,N]=(0,a.useState)(!1),[w,A]=(0,a.useState)(!1),[P,S]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[U,I]=(0,a.useState)({cardNumber:"",expiryDate:"",cvc:""}),E=async()=>{if(!e.email)return void m.Ay.error("User email not found. Please log in again.");if(!b)return void m.Ay.error("Payment service unavailable. Please try again later.");C(!0);try{console.log("Creating checkout session with params:",{type:"subscription",email:e.email,successUrl:`${window.location.origin}/dashboard/subscription?success=true`,cancelUrl:`${window.location.origin}/dashboard/subscription?canceled=true`});let t=await b({type:"subscription",email:e.email,successUrl:`${window.location.origin}/dashboard/subscription?success=true`,cancelUrl:`${window.location.origin}/dashboard/subscription?canceled=true`});if(t?.checkoutUrl){m.Ay.success("Redirecting to payment..."),window.location.href=t.checkoutUrl;return}if(t?.success&&t?.url){console.log("Found success + url, attempting redirect..."),m.Ay.success("Redirecting to payment..."),window.location.href=t.url;return}if("string"==typeof t&&t.includes("checkout.stripe.com")){console.log("Result is a URL string, attempting redirect..."),m.Ay.success("Redirecting to payment..."),window.location.href=t;return}console.error("No checkout URL found in response:",t),m.Ay.error(t?.message||t?.error||"Unable to create payment session. Please try again.")}catch(e){console.error("Upgrade failed with error:",e),m.Ay.error("Failed to start upgrade process. Please try again.")}finally{C(!1),N(!1)}},F=async()=>{if(!e.email)return void m.Ay.error("User email not found. Please log in again.");if(!g)return void m.Ay.error("Service unavailable. Please try again later.");C(!0);try{let t=await g({email:e.email});t?.success?(A(!1),m.Ay.success("Subscription cancelled successfully. You'll retain access until your billing period ends."),p&&await p()):t?.error==="Subscription not found."?(m.Ay.error("No active subscription found. Your account is already on the free plan."),A(!1),p&&await p()):m.Ay.error(t?.message||t?.error||"Failed to cancel subscription")}catch(e){console.error("Cancel failed:",e),m.Ay.error("Failed to cancel subscription. Please try again.")}finally{C(!1)}},D=async s=>{if(s.preventDefault(),!e.email)return void m.Ay.error("User email not found. Please log in again.");let r=U.cardNumber.replace(/\s/g,"");if(!r||!U.expiryDate||!U.cvc)return void m.Ay.error("Please fill in all payment details.");if(r.length<13)return void m.Ay.error("Please enter a valid card number.");if(U.cvc.length<3)return void m.Ay.error("Please enter a valid CVC.");if(!f)return void m.Ay.error("Service unavailable. Please try again later.");C(!0);try{let s=await f({email:e.email,cardNumber:r,expiryDate:U.expiryDate,cvc:U.cvc});s?.success?(S(!1),m.Ay.success("Payment method updated successfully!"),t(e=>({...e,paymentMethod:{last4:r.slice(-4)}})),I({cardNumber:"",expiryDate:"",cvc:""})):m.Ay.error(s?.message||s?.error||"Failed to update payment method")}catch(e){console.error("Update payment failed:",e),m.Ay.error("Failed to update payment method. Please try again.")}finally{C(!1)}},M=(e,t)=>{let s=t;if("cardNumber"===e){let e=t.replace(/\D/g,"");if(s=e.replace(/(\d{4})/g,"$1 ").trim(),e.length>16)return}if("expiryDate"===e){let e=t.replace(/\D/g,"");if(s=e.length>=2?e.replace(/(\d{2})(\d)/,"$1/$2"):e,e.length>4)return}"cvc"===e&&(s=t.replace(/\D/g,"")).length>4||I(t=>({...t,[e]:s}))};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-slate-800",children:"Subscription"}),(0,r.jsx)("p",{className:"text-sm text-slate-600",children:"Manage billing and plan settings for your account."})]}),i&&(0,r.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-8 text-center",children:(0,r.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"}),(0,r.jsx)("span",{className:"text-slate-600",children:"Loading subscription data..."})]})}),!i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"col-span-2 bg-white border border-slate-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-slate-100 rounded-md",children:(0,r.jsx)(c.A,{className:"w-5 h-5 text-slate-700"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-slate-500",children:"Current Plan"}),(0,r.jsx)("div",{className:"text-lg font-bold text-slate-900",children:v?"Pro":"Free"})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-xl font-extrabold",children:v?"$4.99":"$0"}),(0,r.jsx)("div",{className:"text-sm text-slate-500",children:"per month"})]})]}),(0,r.jsx)("div",{className:"mt-4 text-sm text-slate-600",children:v?(0,r.jsxs)(r.Fragment,{children:["Next billing: ",(0,r.jsx)("strong",{className:"text-slate-900",children:h(s?.currentPeriodEnd||e.subscription.currentPeriodEnd)})]}):(0,r.jsx)(r.Fragment,{children:"Upgrade to Pro for advanced features and priority support."})})]}),(0,r.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4 flex flex-col justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-slate-500",children:"Payment Method"}),(0,r.jsx)("div",{className:"font-medium text-slate-900",children:v?`VISA •••• ${s?.paymentMethod?.last4||e.paymentMethod.last4}`:"No payment method"})]}),v&&(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{onClick:()=>S(!0),className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-md text-sm hover:bg-slate-50 disabled:opacity-50",disabled:k,children:"Update"})})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:`bg-white border ${!v?"border-slate-300 ring-2 ring-slate-200":"border-slate-200"} rounded-lg p-6`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Free"}),(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"Perfect for evaluation"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:"$0"})]}),(0,r.jsxs)("ul",{className:"mt-4 space-y-2 text-sm text-slate-600",children:[(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-green-600 mt-1"}),"Core AI features"]}),(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-green-600 mt-1"}),"10 queries / day"]}),(0,r.jsxs)("li",{className:"flex items-start gap-3 opacity-60",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 text-slate-400 mt-1"}),"No API access"]})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{disabled:!0,className:`w-full px-4 py-2 rounded-md font-medium ${!v?"bg-slate-100 text-slate-500 cursor-not-allowed":"bg-white border hover:bg-slate-50"}`,children:v?"Free Plan":"Current Plan"})})]}),(0,r.jsxs)("div",{className:`bg-white border ${v?"border-orange-300 ring-2 ring-orange-100 shadow-md":"border-slate-200"} rounded-lg p-6`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Pro"}),(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"For professionals & teams"})]}),(0,r.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:"$4.99"})]}),(0,r.jsxs)("ul",{className:"mt-4 space-y-2 text-sm text-slate-600",children:[(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-green-600 mt-1"}),"Unlimited queries"]}),(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-green-600 mt-1"}),"Advanced models"]}),(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-green-600 mt-1"}),"API access & integrations"]})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{onClick:()=>v&&s?A(!0):N(!0),disabled:k||!e.email,className:`w-full px-4 py-2 rounded-md font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${v&&s?"bg-red-600 text-white hover:bg-red-700":"bg-orange-600 text-white hover:bg-orange-700"}`,children:k?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):v&&s?"Cancel Subscription":"Upgrade to Pro"})})]})]})]})]}),j&&(0,r.jsx)(x,{title:"Upgrade to Pro",onClose:()=>N(!1),children:(0,r.jsxs)("div",{className:"space-y-4 text-sm text-slate-700",children:[(0,r.jsx)("p",{children:"Upgrade to Pro to unlock advanced AI models, API access, and priority support."}),(0,r.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3",children:[(0,r.jsx)("div",{className:"font-medium text-orange-800",children:"What you'll get:"}),(0,r.jsxs)("ul",{className:"text-orange-700 text-xs mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"• Unlimited AI queries"}),(0,r.jsx)("li",{children:"• Access to advanced models"}),(0,r.jsx)("li",{children:"• Priority customer support"}),(0,r.jsx)("li",{children:"• API access for integrations"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>N(!1),disabled:k,className:"flex-1 px-4 py-2 border rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),(0,r.jsx)("button",{onClick:E,disabled:k||!e.email,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50",children:k?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Confirm Upgrade"})]})]})}),w&&(0,r.jsx)(x,{title:"Cancel Subscription",onClose:()=>A(!1),children:(0,r.jsxs)("div",{className:"space-y-4 text-sm text-slate-700",children:[(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[(0,r.jsx)("div",{className:"font-medium text-red-800",children:"Are you sure?"}),(0,r.jsx)("p",{className:"text-red-700 text-xs mt-1",children:"You will retain access until the end of your billing period, but you'll lose access to Pro features after that."})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>A(!1),disabled:k,className:"flex-1 px-4 py-2 border rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Keep Plan"}),(0,r.jsx)("button",{onClick:F,disabled:k||!e.email,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:k?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cancelling..."]}):"Confirm Cancel"})]})]})}),P&&(0,r.jsx)(x,{title:"Update Payment Method",onClose:()=>S(!1),children:(0,r.jsxs)("form",{onSubmit:D,className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),(0,r.jsx)("input",{type:"text",value:U.cardNumber,onChange:e=>M("cardNumber",e.target.value),placeholder:"1234 5678 9012 3456",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:k})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),(0,r.jsx)("input",{type:"text",value:U.expiryDate,onChange:e=>M("expiryDate",e.target.value),placeholder:"MM/YY",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full",disabled:k})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVC"}),(0,r.jsx)("input",{type:"text",value:U.cvc,onChange:e=>M("cvc",e.target.value),placeholder:"123",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full",disabled:k})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>S(!1),disabled:k,className:"flex-1 px-4 py-2 border rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:k,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:k?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating..."]}):"Update Payment"})]})]})})]})}let x=({title:e,children:t,onClose:s})=>(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full shadow-xl",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:e}),(0,r.jsx)("button",{onClick:s,className:"p-1 rounded-md hover:bg-gray-100 transition-colors",children:(0,r.jsx)(u.A,{className:"w-4 h-4 text-slate-600"})})]}),(0,r.jsx)("div",{className:"p-6",children:t})]})})},13964:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(65239),a=s(48088),i=s(88170),n=s.n(i),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c={children:["",{children:["dashboard",{children:["subscription",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6810)),"C:\\Users\\RextonItsiah\\Documents\\GitHub\\qwesi-home\\app\\dashboard\\subscription\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,49927)),"C:\\Users\\RextonItsiah\\Documents\\GitHub\\qwesi-home\\app\\dashboard\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,47824)),"C:\\Users\\RextonItsiah\\Documents\\GitHub\\qwesi-home\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\RextonItsiah\\Documents\\GitHub\\qwesi-home\\app\\dashboard\\subscription\\page.jsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/subscription/page",pathname:"/dashboard/subscription",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},22857:(e,t,s)=>{Promise.resolve().then(s.bind(s,81909))},25541:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},26188:(e,t,s)=>{Promise.resolve().then(s.bind(s,6810))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32192:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},33873:e=>{"use strict";e.exports=require("path")},46001:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]])},49927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(37413),a=s(81909);let i={title:"Qwesi. - Dashboard",description:"Qwesi. - Dashboard"};function n({children:e}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.default,{children:e})})}},57800:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64398:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},65136:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var r=s(60687),a=s(43210),i=s(6282),n=s(85814),l=s.n(n),o=s(70334),c=s(63296),d=s(16189),u=s(32192),m=s(46001),h=s(57800);let p=(0,s(62688).A)("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);var x=s(25541),b=s(85778),g=s(11860),f=s(12941);s(30474),s(93933);let y=()=>{let e=(0,d.usePathname)(),[t,s]=(0,a.useState)(!1),i=[{name:"Dashboard",href:"/dashboard",icon:u.A},{name:"Stores",href:"/dashboard/stores",icon:m.A},{name:"Post Job",href:"/dashboard/employer",icon:h.A},{name:"Pitch",href:"/dashboard/pitch",icon:p},{name:"Investor",href:"/dashboard/investor",icon:x.A},{name:"Subscription",href:"/dashboard/subscription",icon:b.A}],n=()=>{s(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,r.jsx)("button",{onClick:()=>s(!t),className:"p-2 bg-white rounded-lg shadow-md border border-slate-200 hover:bg-slate-50 transition-colors","aria-label":"Toggle menu",children:t?(0,r.jsx)(g.A,{size:20,className:"text-slate-600"}):(0,r.jsx)(f.A,{size:20,className:"text-slate-600"})})}),t&&(0,r.jsx)("div",{className:"lg:hidden fixed inset-0 bg-transparent z-40",onClick:n}),(0,r.jsxs)("aside",{className:`
                fixed lg:static inset-y-0 left-0 z-40
                w-64 lg:w-60 xl:w-64
                bg-white border-r border-slate-200
                transform transition-transform duration-300 ease-in-out
                ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
                flex flex-col h-full
            `,children:[(0,r.jsx)("nav",{className:"flex-1 px-3 py-4 overflow-y-auto",children:(0,r.jsx)("ul",{className:"space-y-1",children:i.map((t,s)=>{let a=e===t.href;return(0,r.jsx)("li",{children:(0,r.jsxs)(l(),{href:t.href,onClick:n,className:`
                                            relative flex items-center gap-3 px-3 py-2.5 rounded-lg
                                            text-slate-600 hover:bg-slate-50 hover:text-slate-900
                                            transition-all duration-200 group text-sm
                                            ${a?"bg-blue-50 text-blue-900 font-medium border border-blue-100":""}
                                        `,"aria-current":a?"page":void 0,children:[(0,r.jsx)(t.icon,{size:18,className:`
                                                flex-shrink-0 transition-colors
                                                ${a?"text-blue-600":"text-slate-500 group-hover:text-slate-700"}
                                            `}),(0,r.jsx)("span",{className:"truncate font-medium",children:t.name}),a&&(0,r.jsx)("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-blue-600 rounded-l-full","aria-hidden":"true"})]})},s)})})}),(0,r.jsx)("div",{className:"p-4 border-t border-slate-100 mt-auto",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Dashboard"})})})]})]})};var v=s(2546);let j=({children:e})=>{let[t,s]=(0,a.useState)(!1),[n,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{let e=(0,v.Hc)();if(!e?.user){s(!1),d(!1);return}s(!!(await (0,v.PX)()).valid),d(!1)})()},[]),n?(0,r.jsx)(i.A,{}):t?(0,r.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,r.jsx)(c.A,{}),(0,r.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,r.jsx)(y,{}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)("div",{className:"p-4 md:p-6 lg:p-8",children:e})})]})]}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-6",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-4xl font-semibold text-slate-400",children:"You are not authorized to access this page"}),(0,r.jsxs)(l(),{href:"/",className:"bg-slate-700 text-white flex items-center gap-2 mt-8 p-2 px-6 max-sm:text-sm rounded-full hover:bg-slate-800 transition-colors",children:["Go to home ",(0,r.jsx)(o.A,{size:18})]})]})}},70334:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},79551:e=>{"use strict";e.exports=require("url")},81909:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\RextonItsiah\\\\Documents\\\\GitHub\\\\qwesi-home\\\\components\\\\dashboard\\\\AdminLayout.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\RextonItsiah\\Documents\\GitHub\\qwesi-home\\components\\dashboard\\AdminLayout.jsx","default")},85778:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},93933:(e,t,s)=>{"use strict";s.d(t,{LZ:()=>r,mY:()=>a});let r=["Vehicles","Property","Electronics","Jobs","Fashion","Home & Garden","Pets","Services","Baby & Kids","Games & Hobbies","Sports & Fitness","Books & Media","Music & Instruments","Construction & Tools"],a={qwesi_head:"/qwesi-head.png"}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,732,389,451],()=>s(20913));module.exports=r})();