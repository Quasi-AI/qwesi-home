{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/RextonItsiah/Documents/GitHub/Qwesi-latest/stores/authStore.js"],"sourcesContent":["import { create } from 'zustand';\nimport { readAuth } from '@/lib/auth';\n\nexport const useAuthStore = create((set, get) => ({\n  user: null,\n  token: null,\n  isAuthenticated: false,\n\n  // Initialize auth state from localStorage\n  initAuth: () => {\n    const auth = readAuth();\n    if (auth?.token && auth?.user) {\n      set({\n        user: auth.user,\n        token: auth.token,\n        isAuthenticated: true\n      });\n    }\n  },\n\n  // Set auth data\n  setAuth: (user, token) => {\n    set({\n      user,\n      token,\n      isAuthenticated: true\n    });\n  },\n\n  // Clear auth data\n  clearAuth: () => {\n    set({\n      user: null,\n      token: null,\n      isAuthenticated: false\n    });\n  },\n\n  // Get current user\n  getUser: () => get().user,\n\n  // Get current token\n  getToken: () => get().token,\n\n  // Check if authenticated\n  isAuth: () => get().isAuthenticated\n}));"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,eAAe,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,EAAE,CAAC,KAAK,MAAQ,CAAC;QAChD,MAAM;QACN,OAAO;QACP,iBAAiB;QAEjB,0CAA0C;QAC1C,UAAU;YACR,MAAM,OAAO,CAAA,GAAA,2GAAA,CAAA,WAAQ,AAAD;YACpB,IAAI,MAAM,SAAS,MAAM,MAAM;gBAC7B,IAAI;oBACF,MAAM,KAAK,IAAI;oBACf,OAAO,KAAK,KAAK;oBACjB,iBAAiB;gBACnB;YACF;QACF;QAEA,gBAAgB;QAChB,SAAS,CAAC,MAAM;YACd,IAAI;gBACF;gBACA;gBACA,iBAAiB;YACnB;QACF;QAEA,kBAAkB;QAClB,WAAW;YACT,IAAI;gBACF,MAAM;gBACN,OAAO;gBACP,iBAAiB;YACnB;QACF;QAEA,mBAAmB;QACnB,SAAS,IAAM,MAAM,IAAI;QAEzB,oBAAoB;QACpB,UAAU,IAAM,MAAM,KAAK;QAE3B,yBAAyB;QACzB,QAAQ,IAAM,MAAM,eAAe;IACrC,CAAC","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/RextonItsiah/Documents/GitHub/Qwesi-latest/stores/subscriptionStore.js"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { useAuthStore } from './authStore';\nimport { API_ROUTES } from '@/lib/apiRoutes';\n\nexport const useSubscriptionStore = create(\n  persist(\n    (set, get) => ({\n      // State\n      currentSubscription: null,\n      availablePlans: [],\n      loading: false,\n      error: null,\n\n      // Getters\n      getCurrentSubscription: () => get().currentSubscription,\n      getAvailablePlans: () => get().availablePlans,\n      isLoading: () => get().loading,\n      getError: () => get().error,\n      isSubscribed: () => get().currentSubscription?.status === \"active\",\n      isPro: () => get().currentSubscription?.status === \"active\",\n\n      // Actions\n      fetchSubscription: async () => {\n        set({ loading: true, error: null });\n\n        try {\n          // Get token directly from localStorage instead of using hook\n          const authData = JSON.parse(localStorage.getItem('auth-store') || '{}');\n          const token = authData.state?.token || '';\n          \n          const response = await fetch(API_ROUTES.USER_DETAILS, {\n            method: \"GET\",\n            headers: {\n              \"Authorization\": `Bearer ${token}`,\n              \"Content-Type\": \"application/json\",\n            },\n          });\n\n          const data = await response.json();\n\n          if (response.ok && data.success) {\n            // Extract subscription from user details\n            const subscription = data.user?.subscription || null;\n            set({ currentSubscription: subscription });\n            return { success: true, subscription };\n          } else {\n            const error = data.message || \"Failed to fetch subscription\";\n            set({ error });\n            return { success: false, error };\n          }\n        } catch (error) {\n          console.error(\"Fetch subscription error:\", error);\n          const errorMsg = \"Failed to fetch subscription data\";\n          set({ error: errorMsg });\n          return { success: false, error: errorMsg };\n        } finally {\n          set({ loading: false });\n        }\n      },\n\n      fetchPlans: async () => {\n        set({ loading: true, error: null });\n\n        try {\n          // Get token directly from localStorage\n          const authData = JSON.parse(localStorage.getItem('auth-store') || '{}');\n          const token = authData.state?.token || '';\n          \n          const response = await fetch(`${API_ROUTES.BASE_URL}api/subscription/plans`, {\n            method: \"GET\",\n            headers: {\n              \"Authorization\": `Bearer ${token}`,\n              \"Content-Type\": \"application/json\",\n            },\n          });\n\n          const data = await response.json();\n\n          if (response.ok && data.success && data.plans) {\n            set({ availablePlans: data.plans });\n            return { success: true, plans: data.plans };\n          } else {\n            const error = data.message || \"Failed to fetch plans\";\n            set({ error });\n            return { success: false, error };\n          }\n        } catch (error) {\n          console.error(\"Fetch plans error:\", error);\n          const errorMsg = \"Failed to fetch subscription plans\";\n          set({ error: errorMsg });\n          return { success: false, error: errorMsg };\n        } finally {\n          set({ loading: false });\n        }\n      },\n\n      createCheckoutSession: async (data) => {\n        set({ loading: true, error: null });\n\n        try {\n          // Get token directly from localStorage\n          const authData = JSON.parse(localStorage.getItem('auth-store') || '{}');\n          const token = authData.state?.token || '';\n          \n          console.log('Making API call to:', API_ROUTES.CREATE_CHECKOUT_SESSION);\n          console.log('With data:', data);\n          console.log('With token:', token ? 'Present' : 'Missing');\n          \n          const response = await fetch(API_ROUTES.CREATE_CHECKOUT_SESSION, {\n            method: \"POST\",\n            headers: {\n              \"Authorization\": `Bearer ${token}`,\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n          });\n\n          console.log('Response status:', response.status);\n          console.log('Response ok:', response.ok);\n\n          const result = await response.json();\n          console.log('API Response:', result);\n\n          // Handle different response formats from your API\n          if (response.ok) {\n            // Case 1: API returns {success: true, checkoutUrl: \"...\"}\n            if (result.success && result.checkoutUrl) {\n              console.log('Success case 1: success + checkoutUrl');\n              return { success: true, checkoutUrl: result.checkoutUrl };\n            }\n            // Case 2: API returns {checkoutUrl: \"...\"} (your current format)\n            else if (result.checkoutUrl) {\n              console.log('Success case 2: checkoutUrl only');\n              return { success: true, checkoutUrl: result.checkoutUrl };\n            }\n            // Case 3: API returns {url: \"...\"}\n            else if (result.url) {\n              console.log('Success case 3: url property');\n              return { success: true, checkoutUrl: result.url };\n            }\n            // Case 4: Response is successful but has error message\n            else if (result.success === false) {\n              console.log('API returned success: false');\n              const error = result.error || result.message || \"Failed to create checkout session\";\n              set({ error });\n              return { success: false, error };\n            }\n          }\n          \n          // If we get here, something went wrong\n          console.log('No valid checkout URL found in response');\n          const error = result.error || result.message || `HTTP ${response.status}: Failed to create checkout session`;\n          set({ error });\n          return { success: false, error };\n          \n        } catch (error) {\n          console.error(\"Create checkout session error:\", error);\n          const errorMsg = \"Network error: Failed to create checkout session\";\n          set({ error: errorMsg });\n          return { success: false, error: errorMsg };\n        } finally {\n          set({ loading: false });\n        }\n      },\n\n      createSubscription: async (data) => {\n        set({ loading: true, error: null });\n\n        try {\n          // Get token directly from localStorage\n          const authData = JSON.parse(localStorage.getItem('auth-store') || '{}');\n          const token = authData.state?.token || '';\n          \n          const response = await fetch(`${API_ROUTES.BASE_URL}api/subscription`, {\n            method: \"POST\",\n            headers: {\n              \"Authorization\": `Bearer ${token}`,\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n          });\n\n          const result = await response.json();\n\n          if (response.ok && result.success && result.subscription) {\n            set({ currentSubscription: result.subscription });\n            return { success: true, subscription: result.subscription };\n          } else {\n            const error = result.message || \"Failed to create subscription\";\n            set({ error });\n            return { success: false, error };\n          }\n        } catch (error) {\n          console.error(\"Create subscription error:\", error);\n          const errorMsg = \"Failed to create subscription\";\n          set({ error: errorMsg });\n          return { success: false, error: errorMsg };\n        } finally {\n          set({ loading: false });\n        }\n      },\n\n      cancelSubscription: async (data) => {\n        set({ loading: true, error: null });\n\n        try {\n          // Get token directly from localStorage\n          const authData = JSON.parse(localStorage.getItem('auth-store') || '{}');\n          const token = authData.state?.token || '';\n          \n          const response = await fetch(API_ROUTES.CANCEL_SUBSCRIPTION, {\n            method: \"POST\",\n            headers: {\n              \"Authorization\": `Bearer ${token}`,\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n          });\n\n          const result = await response.json();\n\n          if (response.ok && result.success) {\n            // Update local subscription status\n            const currentSub = get().currentSubscription;\n            if (currentSub) {\n              set({\n                currentSubscription: {\n                  ...currentSub,\n                  status: \"canceled\",\n                  cancelAtPeriodEnd: true,\n                }\n              });\n            }\n            return { success: true, message: result.message };\n          } else {\n            const error = result.message || \"Failed to cancel subscription\";\n            set({ error });\n            return { success: false, error };\n          }\n        } catch (error) {\n          console.error(\"Cancel subscription error:\", error);\n          const errorMsg = \"Failed to cancel subscription\";\n          set({ error: errorMsg });\n          return { success: false, error: errorMsg };\n        } finally {\n          set({ loading: false });\n        }\n      },\n\n      updatePaymentMethod: async (data) => {\n        set({ loading: true, error: null });\n\n        try {\n          // Get token directly from localStorage\n          const authData = JSON.parse(localStorage.getItem('auth-store') || '{}');\n          const token = authData.state?.token || '';\n          \n          const response = await fetch(API_ROUTES.UPDATE_PAYMENT_METHOD, {\n            method: \"POST\",\n            headers: {\n              \"Authorization\": `Bearer ${token}`,\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n          });\n\n          const result = await response.json();\n\n          if (response.ok && result.success) {\n            return { success: true, message: result.message };\n          } else {\n            const error = result.message || \"Failed to update payment method\";\n            set({ error });\n            return { success: false, error };\n          }\n        } catch (error) {\n          console.error(\"Update payment method error:\", error);\n          const errorMsg = \"Failed to update payment method\";\n          set({ error: errorMsg });\n          return { success: false, error: errorMsg };\n        } finally {\n          set({ loading: false });\n        }\n      },\n\n      clearError: () => {\n        set({ error: null });\n      },\n\n      reset: () => {\n        set({\n          currentSubscription: null,\n          availablePlans: [],\n          loading: false,\n          error: null,\n        });\n      },\n    }),\n    {\n      name: 'subscription-store',\n    }\n  )\n);"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/RextonItsiah/Documents/GitHub/Qwesi-latest/app/dashboard/subscription/page.jsx"],"sourcesContent":["'use client'\r\nimport { useState, useEffect } from 'react'\r\nimport { useSubscriptionStore } from '@/stores/subscriptionStore'\r\nimport { Star, Calendar, Clock, CreditCard, Check, X, Zap } from 'lucide-react'\r\nimport toast from 'react-hot-toast'\r\n\r\n// Add the missing formatDate function\r\nconst formatDate = (dateString) => {\r\n    if (!dateString) return 'No date specified'\r\n    const date = new Date(dateString)\r\n    return isNaN(date.getTime()) ? 'Invalid date' : date.toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n    })\r\n}\r\n\r\nexport default function SubscriptionPage() {\r\n    const [user, setUser] = useState({\r\n        email: '',\r\n        subscription: {\r\n            currentPeriodEnd: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()\r\n        },\r\n        paymentMethod: {\r\n            last4: '4242'\r\n        }\r\n    })\r\n\r\n    const {\r\n        currentSubscription,\r\n        loading,\r\n        error,\r\n        isPro: isProFunction,\r\n        fetchSubscription,\r\n        createCheckoutSession,\r\n        cancelSubscription,\r\n        updatePaymentMethod,\r\n        clearError\r\n    } = useSubscriptionStore()\r\n\r\n    // Call the isPro function to get the actual boolean value\r\n    const isPro = typeof isProFunction === 'function' ? isProFunction() : false\r\n\r\n    const [showUpgradeModal, setShowUpgradeModal] = useState(false)\r\n    const [showCancelModal, setShowCancelModal] = useState(false)\r\n    const [showUpdatePaymentModal, setShowUpdatePaymentModal] = useState(false)\r\n    const [actionLoading, setActionLoading] = useState(false)\r\n    const [paymentForm, setPaymentForm] = useState({\r\n        cardNumber: '',\r\n        expiryDate: '',\r\n        cvc: ''\r\n    })\r\n\r\n    // Get user data from localStorage on component mount\r\n    useEffect(() => {\r\n        try {\r\n            const authData = localStorage.getItem('auth')\r\n            if (authData) {\r\n                const auth = JSON.parse(authData)\r\n                if (auth.user?.email) {\r\n                    setUser(prev => ({ ...prev, email: auth.user.email }))\r\n                } else {\r\n                    toast.error('User email not found. Please log in again.')\r\n                }\r\n            } else {\r\n                toast.error('Authentication required. Please log in.')\r\n            }\r\n        } catch (error) {\r\n            console.error('Error getting user data:', error)\r\n            toast.error('Error loading user data.')\r\n        }\r\n\r\n        // Fetch subscription data\r\n        if (fetchSubscription) {\r\n            fetchSubscription().catch(err => {\r\n                console.error('Error fetching subscription:', err)\r\n                // Don't show error toast for subscription not found\r\n                if (err?.message !== 'Subscription not found.') {\r\n                    toast.error('Failed to load subscription data.')\r\n                }\r\n            })\r\n        }\r\n    }, [fetchSubscription])\r\n\r\n    // Clear errors when they change\r\n    useEffect(() => {\r\n        if (error && clearError) {\r\n            toast.error(error)\r\n            clearError()\r\n        }\r\n    }, [error, clearError])\r\n\r\n    const handleUpgrade = async () => {\r\n        if (!user.email) {\r\n            toast.error('User email not found. Please log in again.')\r\n            return\r\n        }\r\n\r\n        if (!createCheckoutSession) {\r\n            toast.error('Payment service unavailable. Please try again later.')\r\n            return\r\n        }\r\n\r\n        setActionLoading(true)\r\n        \r\n        try {\r\n            console.log('Creating checkout session with params:', {\r\n                type: 'subscription',\r\n                email: user.email,\r\n                successUrl: `${window.location.origin}/dashboard/subscription?success=true`,\r\n                cancelUrl: `${window.location.origin}/dashboard/subscription?canceled=true`\r\n            })\r\n\r\n            const result = await createCheckoutSession({\r\n                type: 'subscription',\r\n                email: user.email,\r\n                successUrl: `${window.location.origin}/dashboard/subscription?success=true`,\r\n                cancelUrl: `${window.location.origin}/dashboard/subscription?canceled=true`\r\n            })\r\n\r\n            // Check if we have a checkout URL directly\r\n            if (result?.checkoutUrl) {\r\n                toast.success('Redirecting to payment...')\r\n                window.location.href = result.checkoutUrl\r\n                return\r\n            }\r\n\r\n            // Check for success with URL property  \r\n            if (result?.success && result?.url) {\r\n                console.log('Found success + url, attempting redirect...')\r\n                toast.success('Redirecting to payment...')\r\n                window.location.href = result.url\r\n                return\r\n            }\r\n\r\n            // Check if result itself is a URL string\r\n            if (typeof result === 'string' && result.includes('checkout.stripe.com')) {\r\n                console.log('Result is a URL string, attempting redirect...')\r\n                toast.success('Redirecting to payment...')\r\n                window.location.href = result\r\n                return\r\n            }\r\n\r\n            // If we got here, there's no valid URL\r\n            console.error('No checkout URL found in response:', result)\r\n            toast.error(result?.message || result?.error || 'Unable to create payment session. Please try again.')\r\n            \r\n        } catch (error) {\r\n            console.error('Upgrade failed with error:', error)\r\n            toast.error('Failed to start upgrade process. Please try again.')\r\n        } finally {\r\n            setActionLoading(false)\r\n            setShowUpgradeModal(false)\r\n        }\r\n    }\r\n\r\n    const handleCancel = async () => {\r\n        if (!user.email) {\r\n            toast.error('User email not found. Please log in again.')\r\n            return\r\n        }\r\n\r\n        if (!cancelSubscription) {\r\n            toast.error('Service unavailable. Please try again later.')\r\n            return\r\n        }\r\n\r\n        setActionLoading(true)\r\n\r\n        try {\r\n            const result = await cancelSubscription({\r\n                email: user.email\r\n            })\r\n\r\n            if (result?.success) {\r\n                setShowCancelModal(false)\r\n                toast.success('Subscription cancelled successfully. You\\'ll retain access until your billing period ends.')\r\n                // Refresh subscription data\r\n                if (fetchSubscription) {\r\n                    await fetchSubscription()\r\n                }\r\n            } else if (result?.error === \"Subscription not found.\") {\r\n                // Handle case where user thinks they have subscription but don't\r\n                toast.error('No active subscription found. Your account is already on the free plan.')\r\n                setShowCancelModal(false)\r\n                // Refresh to correct the UI state\r\n                if (fetchSubscription) {\r\n                    await fetchSubscription()\r\n                }\r\n            } else {\r\n                toast.error(result?.message || result?.error || 'Failed to cancel subscription')\r\n            }\r\n        } catch (error) {\r\n            console.error('Cancel failed:', error)\r\n            toast.error('Failed to cancel subscription. Please try again.')\r\n        } finally {\r\n            setActionLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleUpdatePayment = async (e) => {\r\n        e.preventDefault()\r\n        \r\n        if (!user.email) {\r\n            toast.error('User email not found. Please log in again.')\r\n            return\r\n        }\r\n\r\n        // Basic validation\r\n        const cleanCardNumber = paymentForm.cardNumber.replace(/\\s/g, '')\r\n        if (!cleanCardNumber || !paymentForm.expiryDate || !paymentForm.cvc) {\r\n            toast.error('Please fill in all payment details.')\r\n            return\r\n        }\r\n\r\n        if (cleanCardNumber.length < 13) {\r\n            toast.error('Please enter a valid card number.')\r\n            return\r\n        }\r\n\r\n        if (paymentForm.cvc.length < 3) {\r\n            toast.error('Please enter a valid CVC.')\r\n            return\r\n        }\r\n\r\n        if (!updatePaymentMethod) {\r\n            toast.error('Service unavailable. Please try again later.')\r\n            return\r\n        }\r\n\r\n        setActionLoading(true)\r\n\r\n        try {\r\n            const result = await updatePaymentMethod({\r\n                email: user.email,\r\n                cardNumber: cleanCardNumber,\r\n                expiryDate: paymentForm.expiryDate,\r\n                cvc: paymentForm.cvc\r\n            })\r\n\r\n            if (result?.success) {\r\n                setShowUpdatePaymentModal(false)\r\n                toast.success('Payment method updated successfully!')\r\n                // Update user data with new last4\r\n                setUser(prev => ({\r\n                    ...prev,\r\n                    paymentMethod: {\r\n                        last4: cleanCardNumber.slice(-4)\r\n                    }\r\n                }))\r\n                // Reset form\r\n                setPaymentForm({ cardNumber: '', expiryDate: '', cvc: '' })\r\n            } else {\r\n                toast.error(result?.message || result?.error || 'Failed to update payment method')\r\n            }\r\n        } catch (error) {\r\n            console.error('Update payment failed:', error)\r\n            toast.error('Failed to update payment method. Please try again.')\r\n        } finally {\r\n            setActionLoading(false)\r\n        }\r\n    }\r\n\r\n    const handlePaymentFormChange = (field, value) => {\r\n        let formattedValue = value\r\n\r\n        // Format card number (add spaces every 4 digits)\r\n        if (field === 'cardNumber') {\r\n            const cleanValue = value.replace(/\\D/g, '') // Remove all non-digits\r\n            formattedValue = cleanValue.replace(/(\\d{4})/g, '$1 ').trim()\r\n            if (cleanValue.length > 16) return // Limit to 16 digits\r\n        }\r\n\r\n        // Format expiry date (MM/YY)\r\n        if (field === 'expiryDate') {\r\n            const cleanValue = value.replace(/\\D/g, '')\r\n            if (cleanValue.length >= 2) {\r\n                formattedValue = cleanValue.replace(/(\\d{2})(\\d)/, '$1/$2')\r\n            } else {\r\n                formattedValue = cleanValue\r\n            }\r\n            if (cleanValue.length > 4) return // Limit to MMYY format\r\n        }\r\n\r\n        // Format CVC (numbers only)\r\n        if (field === 'cvc') {\r\n            formattedValue = value.replace(/\\D/g, '')\r\n            if (formattedValue.length > 4) return // Limit to 4 digits\r\n        }\r\n\r\n        setPaymentForm(prev => ({ ...prev, [field]: formattedValue }))\r\n    }\r\n\r\n    // Check URL params for success/cancel messages\r\n    useEffect(() => {\r\n        const urlParams = new URLSearchParams(window.location.search)\r\n        if (urlParams.get('success') === 'true') {\r\n            toast.success('Subscription upgraded successfully!')\r\n            // Clean up URL\r\n            window.history.replaceState({}, '', window.location.pathname)\r\n        } else if (urlParams.get('canceled') === 'true') {\r\n            toast.error('Subscription upgrade was cancelled.')\r\n            // Clean up URL\r\n            window.history.replaceState({}, '', window.location.pathname)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <div className=\"max-w-5xl mx-auto p-6\">\r\n                {/* Header */}\r\n                <div className=\"mb-6\">\r\n                    <h1 className=\"text-2xl font-semibold text-slate-800\">Subscription</h1>\r\n                    <p className=\"text-sm text-slate-600\">Manage billing and plan settings for your account.</p>\r\n                </div>\r\n\r\n                {/* Loading State */}\r\n                {loading && (\r\n                    <div className=\"bg-white border border-slate-200 rounded-lg p-8 text-center\">\r\n                        <div className=\"inline-flex items-center gap-2\">\r\n                            <div className=\"w-4 h-4 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin\"></div>\r\n                            <span className=\"text-slate-600\">Loading subscription data...</span>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Main Content - Only show when not loading */}\r\n                {!loading && (\r\n                    <>\r\n                        {/* Summary Row */}\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                            <div className=\"col-span-2 bg-white border border-slate-200 rounded-lg p-4\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        <div className=\"p-3 bg-slate-100 rounded-md\">\r\n                                            <Star className=\"w-5 h-5 text-slate-700\" />\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"text-sm text-slate-500\">Current Plan</div>\r\n                                            <div className=\"text-lg font-bold text-slate-900\">\r\n                                                {isPro ? 'Pro' : 'Free'}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <div className=\"text-xl font-extrabold\">\r\n                                            {isPro ? '$4.99' : '$0'}\r\n                                        </div>\r\n                                        <div className=\"text-sm text-slate-500\">per month</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"mt-4 text-sm text-slate-600\">\r\n                                    {isPro ? (\r\n                                        <>\r\n                                            Next billing: <strong className=\"text-slate-900\">\r\n                                                {formatDate(currentSubscription?.currentPeriodEnd || user.subscription.currentPeriodEnd)}\r\n                                            </strong>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>Upgrade to Pro for advanced features and priority support.</>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"bg-white border border-slate-200 rounded-lg p-4 flex flex-col justify-between\">\r\n                                <div>\r\n                                    <div className=\"text-sm text-slate-500\">Payment Method</div>\r\n                                    <div className=\"font-medium text-slate-900\">\r\n                                        {isPro ? (\r\n                                            `VISA •••• ${currentSubscription?.paymentMethod?.last4 || user.paymentMethod.last4}`\r\n                                        ) : (\r\n                                            'No payment method'\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                {isPro && (\r\n                                    <div className=\"mt-4\">\r\n                                        <button \r\n                                            onClick={() => setShowUpdatePaymentModal(true)}\r\n                                            className=\"w-full px-4 py-2 bg-white border border-slate-200 rounded-md text-sm hover:bg-slate-50 disabled:opacity-50\"\r\n                                            disabled={actionLoading}\r\n                                        >\r\n                                            Update\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Plans */}\r\n                        <div className=\"grid md:grid-cols-2 gap-6\">\r\n                            <div className={`bg-white border ${!isPro ? 'border-slate-300 ring-2 ring-slate-200' : 'border-slate-200'} rounded-lg p-6`}> \r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div>\r\n                                        <h3 className=\"text-lg font-semibold text-slate-900\">Free</h3>\r\n                                        <p className=\"text-sm text-slate-500\">Perfect for evaluation</p>\r\n                                    </div>\r\n                                    <div className=\"text-2xl font-bold text-slate-900\">$0</div>\r\n                                </div>\r\n\r\n                                <ul className=\"mt-4 space-y-2 text-sm text-slate-600\">\r\n                                    <li className=\"flex items-start gap-3\">\r\n                                        <Check className=\"w-4 h-4 text-green-600 mt-1\"/>\r\n                                        Core AI features\r\n                                    </li>\r\n                                    <li className=\"flex items-start gap-3\">\r\n                                        <Check className=\"w-4 h-4 text-green-600 mt-1\"/>\r\n                                        10 queries / day\r\n                                    </li>\r\n                                    <li className=\"flex items-start gap-3 opacity-60\">\r\n                                        <X className=\"w-4 h-4 text-slate-400 mt-1\"/>\r\n                                        No API access\r\n                                    </li>\r\n                                </ul>\r\n\r\n                                <div className=\"mt-6\">\r\n                                    <button \r\n                                        disabled\r\n                                        className={`w-full px-4 py-2 rounded-md font-medium ${\r\n                                            !isPro \r\n                                                ? 'bg-slate-100 text-slate-500 cursor-not-allowed' \r\n                                                : 'bg-white border hover:bg-slate-50'\r\n                                        }`}\r\n                                    >\r\n                                        {!isPro ? 'Current Plan' : 'Free Plan'}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={`bg-white border ${isPro ? 'border-orange-300 ring-2 ring-orange-100 shadow-md' : 'border-slate-200'} rounded-lg p-6`}> \r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div>\r\n                                        <h3 className=\"text-lg font-semibold text-slate-900\">Pro</h3>\r\n                                        <p className=\"text-sm text-slate-500\">For professionals & teams</p>\r\n                                    </div>\r\n                                    <div className=\"text-2xl font-bold text-slate-900\">$4.99</div>\r\n                                </div>\r\n\r\n                                <ul className=\"mt-4 space-y-2 text-sm text-slate-600\">\r\n                                    <li className=\"flex items-start gap-3\">\r\n                                        <Check className=\"w-4 h-4 text-green-600 mt-1\"/>\r\n                                        Unlimited queries\r\n                                    </li>\r\n                                    <li className=\"flex items-start gap-3\">\r\n                                        <Check className=\"w-4 h-4 text-green-600 mt-1\"/>\r\n                                        Advanced models\r\n                                    </li>\r\n                                    <li className=\"flex items-start gap-3\">\r\n                                        <Check className=\"w-4 h-4 text-green-600 mt-1\"/>\r\n                                        API access & integrations\r\n                                    </li>\r\n                                </ul>\r\n\r\n                                <div className=\"mt-6\">\r\n                                    <button \r\n                                        onClick={() => (isPro && currentSubscription) ? setShowCancelModal(true) : setShowUpgradeModal(true)}\r\n                                        disabled={actionLoading || !user.email}\r\n                                        className={`w-full px-4 py-2 rounded-md font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${\r\n                                            (isPro && currentSubscription)\r\n                                                ? 'bg-red-600 text-white hover:bg-red-700' \r\n                                                : 'bg-orange-600 text-white hover:bg-orange-700'\r\n                                        }`}\r\n                                    >\r\n                                        {actionLoading ? (\r\n                                            <div className=\"flex items-center justify-center gap-2\">\r\n                                                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                                Processing...\r\n                                            </div>\r\n                                        ) : (\r\n                                            (isPro && currentSubscription) ? 'Cancel Subscription' : 'Upgrade to Pro'\r\n                                        )}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n\r\n            {/* Modals */}\r\n            {showUpgradeModal && (\r\n                <Modal title=\"Upgrade to Pro\" onClose={() => setShowUpgradeModal(false)}>\r\n                    <div className=\"space-y-4 text-sm text-slate-700\">\r\n                        <p>Upgrade to Pro to unlock advanced AI models, API access, and priority support.</p>\r\n                        <div className=\"bg-orange-50 border border-orange-200 rounded-md p-3\">\r\n                            <div className=\"font-medium text-orange-800\">What you'll get:</div>\r\n                            <ul className=\"text-orange-700 text-xs mt-1 space-y-1\">\r\n                                <li>• Unlimited AI queries</li>\r\n                                <li>• Access to advanced models</li>\r\n                                <li>• Priority customer support</li>\r\n                                <li>• API access for integrations</li>\r\n                            </ul>\r\n                        </div>\r\n                        <div className=\"flex gap-3\">\r\n                            <button \r\n                                onClick={() => setShowUpgradeModal(false)}\r\n                                disabled={actionLoading}\r\n                                className=\"flex-1 px-4 py-2 border rounded-md hover:bg-gray-50 disabled:opacity-50\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button \r\n                                onClick={handleUpgrade}\r\n                                disabled={actionLoading || !user.email}\r\n                                className=\"flex-1 px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50\"\r\n                            >\r\n                                {actionLoading ? (\r\n                                    <div className=\"flex items-center justify-center gap-2\">\r\n                                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                        Processing...\r\n                                    </div>\r\n                                ) : (\r\n                                    'Confirm Upgrade'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n\r\n            {showCancelModal && (\r\n                <Modal title=\"Cancel Subscription\" onClose={() => setShowCancelModal(false)}>\r\n                    <div className=\"space-y-4 text-sm text-slate-700\">\r\n                        <div className=\"bg-red-50 border border-red-200 rounded-md p-3\">\r\n                            <div className=\"font-medium text-red-800\">Are you sure?</div>\r\n                            <p className=\"text-red-700 text-xs mt-1\">\r\n                                You will retain access until the end of your billing period, but you'll lose access to Pro features after that.\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"flex gap-3\">\r\n                            <button \r\n                                onClick={() => setShowCancelModal(false)}\r\n                                disabled={actionLoading}\r\n                                className=\"flex-1 px-4 py-2 border rounded-md hover:bg-gray-50 disabled:opacity-50\"\r\n                            >\r\n                                Keep Plan\r\n                            </button>\r\n                            <button \r\n                                onClick={handleCancel}\r\n                                disabled={actionLoading || !user.email}\r\n                                className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50\"\r\n                            >\r\n                                {actionLoading ? (\r\n                                    <div className=\"flex items-center justify-center gap-2\">\r\n                                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                        Cancelling...\r\n                                    </div>\r\n                                ) : (\r\n                                    'Confirm Cancel'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n\r\n            {showUpdatePaymentModal && (\r\n                <Modal title=\"Update Payment Method\" onClose={() => setShowUpdatePaymentModal(false)}>\r\n                    <form onSubmit={handleUpdatePayment} className=\"space-y-3\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                Card Number\r\n                            </label>\r\n                            <input \r\n                                type=\"text\" \r\n                                value={paymentForm.cardNumber}\r\n                                onChange={(e) => handlePaymentFormChange('cardNumber', e.target.value)}\r\n                                placeholder=\"1234 5678 9012 3456\"\r\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                                disabled={actionLoading}\r\n                            />\r\n                        </div>\r\n                        <div className=\"grid grid-cols-2 gap-2\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                    Expiry Date\r\n                                </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    value={paymentForm.expiryDate}\r\n                                    onChange={(e) => handlePaymentFormChange('expiryDate', e.target.value)}\r\n                                    placeholder=\"MM/YY\"\r\n                                    className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full\"\r\n                                    disabled={actionLoading}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                    CVC\r\n                                </label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    value={paymentForm.cvc}\r\n                                    onChange={(e) => handlePaymentFormChange('cvc', e.target.value)}\r\n                                    placeholder=\"123\"\r\n                                    className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full\"\r\n                                    disabled={actionLoading}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-3 pt-2\">\r\n                            <button \r\n                                type=\"button\"\r\n                                onClick={() => setShowUpdatePaymentModal(false)}\r\n                                disabled={actionLoading}\r\n                                className=\"flex-1 px-4 py-2 border rounded-md hover:bg-gray-50 disabled:opacity-50\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button \r\n                                type=\"submit\"\r\n                                disabled={actionLoading}\r\n                                className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\r\n                            >\r\n                                {actionLoading ? (\r\n                                    <div className=\"flex items-center justify-center gap-2\">\r\n                                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                                        Updating...\r\n                                    </div>\r\n                                ) : (\r\n                                    'Update Payment'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </Modal>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Modal = ({ title, children, onClose }) => (\r\n    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\r\n        <div className=\"bg-white rounded-lg max-w-lg w-full shadow-xl\">\r\n            <div className=\"px-6 py-4 border-b border-slate-200 flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-medium text-slate-900\">{title}</h3>\r\n                <button \r\n                    onClick={onClose} \r\n                    className=\"p-1 rounded-md hover:bg-gray-100 transition-colors\"\r\n                >\r\n                    <X className=\"w-4 h-4 text-slate-600\"/>\r\n                </button>\r\n            </div>\r\n            <div className=\"p-6\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n    </div>\r\n)"],"names":[],"mappings":"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","debugId":null}}]
}